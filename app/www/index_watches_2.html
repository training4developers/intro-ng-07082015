<!DOCTYPE html>

<html>
	<head>
		<title>Welcome to Angular.js!</title>
		<script src="js/jquery.js"></script>
		<script src="js/angular.js"></script>
	</head>
	<body>
		<div ng-app="MyApp">

			{{message}}<br><br>
			<input ng-model="message">

			<div ng-controller="MyCtrlA">
				<div ng-controller="MyCtrlB">
					{{message}}<br><br>
				</div>
				<div ng-controller="MyCtrlB">
					{{message}}<br><br>
				</div>
				<div ng-controller="MyCtrlB">
					{{message}}<br><br>
				</div>
			</div>
			<div ng-controller="MyCtrlA">
			</div>
			<div ng-controller="MyCtrlA">
			</div>
		</div>
		<script>

			angular.module("MyApp", [])
				.controller("MyCtrlA",	function ($scope, $rootScope, $timeout) {

					$scope.$watch("message", function(newValue, oldValue) {
						console.log("ascope id: " + $scope.$id);
						console.log("parent scope id: " + $scope.$parent.$id);
						console.log("watch count: " + $scope.$$watchers.length);
						console.log("new value: " + newValue);
						console.log("old value: " + oldValue);

					});

				})
				.controller("MyCtrlB",	function ($scope, $rootScope, $timeout) {

					$scope.$watch("message", function(newValue, oldValue) {
						console.log("bscope id: " + $scope.$id);
						console.log("parent scope id: " + $scope.$parent.$id);
						console.log("watch count: " + $scope.$$watchers.length);
						console.dir($scope.$$watchers[0].fn.toString());
						console.log("new value: " + newValue);
						console.log("old value: " + oldValue);

					});

				});

		</script>
	</body>
</html>
